<!DOCTYPE html>
<html lang="en">

<head>
    <title>이벤트

        <style>
            .area {
                background-color: beige;
                border: 1px solid palegoldenrod;
                height: 100px;
            }

            .style {
                background-color: yellowgreen;
            }
        </style>
    </title>
</head>

<body>
    <h1>이벤트</h1>

    <!-- 이벤트 관련 용어정리
     
    event : 브라우저에서 발생하는 사건(동작,행위)
    event target:이벤트가 일어날(난) 객체(button, label,h1)
    event type: 이벤트 종류(click, mouseover, scoll, keydown)
    event listener : event를 감지하다가 감지되면 event handler를 수행
    event handler : 이벤트가 발생했을 때 동작할 코드들의 집합

    이벤트 모델 종류: 
    1.고전 이벤트 모델 : 요소객체.onclick = 이벤트 핸들러 
    2.인라인 이벤트 모델 : <요소onclick="함수();"></요소>
    3.표준 이벤트 모델 : 요소.addEventListener();
    
    
    -->
    <h3>고전 이벤트 모델(기본이벤트 모델)</h3>
    <p>
        해당 요소 객체의 이벤트 속성에 접근한 후 <br>
        이벤트 핸들러를 대입하는 방식 <br><br>

        [표현법]
        객체명.(이벤트)속성명 =()=>{}<br>
        =>null을 대입하면 이벤트가 제거됨
    </p>
    <button id="btn1">뻘튼</button> <br>
    <button id="btn2">뻘튼</button>
    <div id="area1" class="area"></div>

    <script>
        const area1 = document.querySelector("#area1");
        //querySelector VS getElementById

        //일반적으로 querySelector를 권장한다.
        //예외가 존재> 성능이 필요한 시점 getElementById가 더 빠를 수 있음
        //1. target(이벤트가 발생할 객체)에 접근하기
        const btn1 = document.querySelector("#btn1");
        //2. eventtype을 지정해야함
        btn1.onclick = function () {
            //eventHandller대입
            area1.innerHTML += "btn1클릭<br>"
        };

        //btn2인 버튼을 클랙했을 때 btn1에게 달린 이벤트를 제거
        document.querySelector("#btn2").onclick = () => {
            btn1.onclick = null;
            area1.innerHTML = "이벤트 없앰";
        };

    </script>

    <hr>


    <h3>인라인 이벤트 모델</h3>
    <p>
        요소 내부에 직접적으로 이벤트 속성을 적어서 정의하는 방식<br>
        주로 js모둘에 정의한 함수를 호출하는 방법을 선호
    </p>
    <button onclick="document.getElementById('area1').innerHTML='클릭'; alert('띄워띄워')">

        극단적으로
        <!-- 요소내부에 직접 이벤트 핸들러를 달아도 실행하는것에는 문제가 없지만 내용이 길어지고 복잡하므로 위같이 잘안함 -->
    </button>
    <hr>


    <h3>표준 이벤트 모델 (addEventListener)</h3>
    <pre>
        [표현법]
        요소객체.addEventListener('이벤트명',이벤트 핸들러);
    </pre>
    <button id="btn3">이벤또</button>

    <script>
        const btn = document.getElementById('btn3');
        btn.addEventListener("click", () => {
            alert("표준 이벤트 모델 테스트");
        });

        //mouseenter: 포인터가 보더안으로 들어가는 순간
        btn.addEventListener('mouseenter', () => {
            //btn.style.backgroundColor="yellowgreen"
            //특정요소의 스타일을 고쳐야 한다면위와같은 방법보다는 클래스로 접근하여 처리한다 즉 집적 처리보다는 저게 좋다.
            btn, classList.add("style");

        });
        //mouseout: 보더밖으로 포인터가 나간 순간 
        btn.addEventListener('mouseout', () => {
            //btn.style.backgroundColor=null;
            btn3.classLis.remove("style");
        })
    </script>
    hr>

    <h3>2.현재 이벤트가 발생한 요소객체(이벤트타겟)에 접근하는 방법</h3>
    <button id="btn4">고전 이벤트 방식</button>
    <button id="btn5">고전 이벤트 방식</button>


    <button onclick="exFn(this);">인라인 이벤트 방식1</button>
    <button onclick="exFn(this);">인라인 이벤트 방식2</button>

    <script>
        //인라인 이벤트 모델

        function exFn(e) {
            //버튼을  클릭했을 때 클릭한 요소의 컨텐트 값을 클릭됨 으로 변경하려고 한다.
            //인자값으로 this라는 키워드를 전달한다.

            console.log(e);
            e.innerHTML = "클릭됨!";
        }
        //고전 이벤트 방식

        document.getElementById('btn4').onclick = (e) => {
            //이벤트 타겟에 접근 그전에  요소 객체의 접근
            console.log(window.event);
            console.log(this.event);

            //event target를 알아내는 방법
            //console.log(window.event.target);
            //console.log(this.event.target);
            console.log(e.target); //이렇게 줄일 수 있음
            //총 방법이 3개라는 거지 
            // window.event.target.style.background='red';
            // this.event.target.style.color="white";
            // e.target.innerText="클릭했다능!!";

            //표준 이벤트 방식

            document.getElementById('btn5').addEventListener('click', function (e) {
                console.log(this);
                //window.event.target ==e.target
                //==this(function키워드가 붙은 함수)
                //==this.target(=>array Function)

                window.event.target.style.background = "black";
                e.target.innerHTML = "이벤트 발생!";
                this.style.color = "white";
            })
        };
    </script>

    <hr>

    <h2>3.태그별 기본적으로 달려있는 이벤트 제거하기</h2>

    <p>
        기본적으로 이벤트를 가지고 있는 욧 <br>
        -a태그 : 클릭 시 href속성값으로 URL요청 보내는 이벤트 달림 <br>
        -form태그 안에 있는 submit버튼 : <br>
        클릭시 사용자가 입력한 값들을 action속성 값으로 요청 보내는 이벤트 달림
    </p>
    <a href="http://www.naver.com" onclick="alert('하이');">네이버로</a>
    <!-- 나중에 온 onclick이 실행됨 -->
    <br>
    <a href="http://www.naver.com" onclick="return false">네이버로~</a>
    <!-- 방법1. return false를 onclick속성에 넣어줌으로써 무조건 처음 쓴게나오게 함 -->

    <script>
        function returnFn() {
            if (1) {
                return false;
            } else {
                return true;
            }
        }
    </script>
    <a href="http://www.naver.com" onclick="return returnFn();">너나가</a>\
    <!-- false일때 네이버로 안가고 싶으면 앞에 return붙여줌
  방법2. return 함수() 호출 -->



    <br><br><br><br><br>

    <!-- 자바스크립트를 가지고 유효성 검사를 할꺼임! -->

    <form action="회원가입URL">

        <fieldset>
            <legend>회원가입</legend>
            아이디 : <input type="text" name="userId" id="userId"><br>
            <label style="font-size: 10px; color:lightblue;">
                영문자 또는 숫자로만 5~12자 사이로 입력해주세요
            </label>
            <br><br><br>
            <input type="submit" value="가입하기" onclick="return validate();">
            <!-- validate() 유효성검사를 해주는 함수 -->

        </fieldset>
    </form>

    <script>
        function validate() {
            //유효성 검사용 사용자가 입력한 id값이 유효한지 검사하는 함수 유효하지 않은 값이라면
            //요청을 못가게할거임
            //1.input요소에 접근
            const userId = document.getElementById("userId").value;
            console.log(userId);
            //바로 화면으로 가는게 싫어서 return false적용시킴

            //영문자 or 숫자로만 + 5~12자 사이
            //비교대상 == 사용자가 입력한 값(userId)
            //사용자가 입력한 값이 영문자 또는 숫자인가
            //사용자가 입력한 값이 5~12자 사이 1번 먼저 처리하자
            // 그러면 if를 떠올려야 함 먼저

            if(5<=userId.length&&userId.length<=12){
                for(let i=0; i<userId.length; i++){
                    if('a' <= userId.charAt(i)&&userId.charAt(i)<='z'||
                        'A'<=userId.charAt(i)&&userId.charAt(i)<="Z"||
                        "0"<=userId.charAt(i)&&userId.charAt(i)<="9")
                        return true;
                }
            }

        }
        alert("라라")
        return false;

        //아이디 값에 대한 유효성 검사
        //값에 대한 유효성 검사를 위해 정규표현식을 사용해보자
        //영문자 똔느


        const regExp=/^[A-Za-z0-9]{5,12}$/;
        console.log(regExp);
        console.log(userId);
        console.log(regExp.test(userId));
        if(regExp.test(userId))

        //패턴을 만족하는 지 검 사 =<test() 
             </script>




</body>

</html>